<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="board">

	<!-- 자유 게시판 목록 조회 -->
	<select id="freeSelectAll" resultType="FreeBoardDTO">
	<![CDATA[
		SELECT*FROM(
			SELECT ROWNUM AS RNUM,SUBQUERY.*
			FROM(
			SELECT M.MEMBER_NUMBER,M.MEMBER_ID,P.POST_NUMBER, P.POST Title, P.POST_CREATED_DATE, P.POST_VIEW_COUNT,P.POST_TYPE
			FROM TBL_MEMBER M JOIN TBL_POST
			ON M.MEMBER_NUMBER=P.MEMBER_NUMBER
			ORDER BY P.POST_CREATED_DATE DESC
		)SUBQUERY
	)WHERE RNUM BETWEEN #{startRow} AND #{endRow}
	]]>
	</select>


	<!-- 홍보게시판 목록 조회 -->
	<select id="promoSelectAll" resultType="PromoBoardDTO">
	<![CDATA[
		SELECT*FROM(
			SELECT ROWNUM AS RNUM,SUBQUERY.*
			FROM(
			SELECT M.MEMBER_NUMBER,M.MEMBER_ID,P.POST_NUMBER, P.POST Title, P.POST_CREATED_DATE, P.POST_VIEW_COUNT,P.POST_TYPE
			FROM TBL_MEMBER M JOIN TBL_POST
			ON M.MEMBER_NUMBER=P.MEMBER_NUMBER
			ORDER BY P.POST_CREATED_DATE DESC
		)SUBQUERY
	)WHERE RNUM BETWEEN #{startRow} AND #{endRow}
	]]>
	</select>
	
	<!-- 레시피게시판 목록 조회 -->
	<select id="recipeSelectAll" resultType="RecipeBoardDTO">
	<![CDATA[
		SELECT*FROM(
			SELECT ROWNUM AS RNUM,SUBQUERY.*
			FROM(
			SELECT M.MEMBER_NUMBER,M.MEMBER_ID,P.POST_NUMBER, P.POST Title, P.POST_CREATED_DATE, P.POST_VIEW_COUNT,P.POST_TYPE
			FROM TBL_MEMBER M JOIN TBL_POST
			ON M.MEMBER_NUMBER=P.MEMBER_NUMBER
			ORDER BY P.POST_CREATED_DATE DESC
		)SUBQUERY
	)WHERE RNUM BETWEEN #{startRow} AND #{endRow}
	]]>
	</select>
		
</mapper>
